<chapter id="porting">
<title id="porting.title">Porting and Packaging</title>

<section>
<title>We need porters, packagers and maintainers</title>

<para>Now that &phc has a plugin architecture, it is no longer necessary for
users to integrate their source with it. As a result, it is much more useful to
package &phc and integrate it within various distributions' package management
systems. If you are interested in packaging &phc for your favourite OS, please
<ulink url="http://www.phpcompiler.org/contact.html">contact us</ulink>.</para>

<para>Currently, &phc runs on x86 Linux. Most of the testing occurs on i686
Ubuntu Dapper and i686 Debian Etch, with occasional testing on Darwin, and
infrequent testing on sparc Solaris (SunOS 5.9).  If you have access to other
machines, architectures or operating systems, and would be willing to test &phc
on it, please <ulink url="http://www.phpcompiler.org/contact.html">contact
us</ulink>.</para>

</section>
<section>

<title>Packaging hints</title>

<para>Do not strip the binaries. Since the plugins use <code>dlopen()</code>,
and link dynamically against the &phc binary, the plugins will not work unless
the symbol information is available.</para>

</section>
<section>

<title>Test suite</title>

<!-- TODO: update this paragraph -->
<para>Although we included tests in &phc up to version 0.1.5.1-1, it is no
longer practical to do so, mostly due to the size of the regression tests.
However, in order to help potential porters and maintainers, we provide the
<ulink url="TODO">full test suite</ulink> (20MB).  Extract the tests in the
<filename>src/</filename> directory, and run</para>

<screen>
make test
</screen>
			
<para> to run the short version of the tests, or</para>

<screen>
make long-test
</screen>

<para>to run the entire suite. Note that the line numbers test is
expected to fail (this is a known bug and will be fixed in a later
release). </para>

</section>
<section>

<title>&phc packages</title>

<para>See the <ulink url="http://www.phpcompiler.org/src">downloads
page</ulink> for existing packages. In addition, we're looking for people to
create and/or maintain packages for more systems, including Debian/Ubuntu
(especially Debian/Ubuntu), Gentoo, Slackware, Darwin and Solaris.  </para>

</section>
